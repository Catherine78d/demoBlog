{% extends 'base.html.twig' %}

{% block title %}BACK OFFICE | Gestion des utilisateurs{% endblock %}

{% block body %}

    <h1 class="display-4 text-center my-4">BACK OFFICE | Gestion des utilisateurs</h1>

    {% for message in app.flashes('success') %}

        <div class="bg-success text-white text-center col-md-4 mx-auto rountded p-3 mb-3">
        {{ message }}
        </div>

    {% endfor %}

    <div class="container">
        <table class="table table-bordered text-center">

            <tr>
                {% for data in colonnes %}

                    {% if data != 'password' %}

                        <th> {{ data|upper }}</th>

                    {% endif %}

                {% endfor %}

                    <th>EDIT</th>
                    <th>SUPP</th>
            </tr>

            {% for data in users %}

                <tr>
                    <td class="align-middle"> {{ data.id }} </td>
                    <td class="align-middle"> {{ data.email }} </td>
                    <td class="align-middle"> {{ data.username }} </td>
                    <td class="align-middle"> {{ data.roles[0] }} </td>


                    <td class="align-middle"><a href="{{ path('admin_edit_user', {'id': data.id }) }}" class="btn btn-dark text-white"><i class="fas fa-edit fa-1x"></i></a></td>
                    <td class="align-middle"><a href="{{ path('admin_delete_user', {'id': data.id }) }}" class="btn btn-danger text-white" onclick="return(confirm('Voulez-vous vraiment supprimer ce commentaire ?'))"><i class="fas fa-trash fa-1x"> </td>
                </tr>

            {% endfor %}

        </table>
    </div>

{% endblock %}  